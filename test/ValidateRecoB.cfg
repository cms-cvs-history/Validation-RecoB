process BTagValidator =  {

  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
    untracked vstring fileNames = {
        #'castor:/castor/cern.ch/user/f/fpschill/btag/RelVal120QCD_pt50_80.CMSSW_1_3_0_pre3.root',
	#'castor:/castor/cern.ch/user/f/fpschill/btag/RelVal120QCD_pt80_120.CMSSW_1_3_0_pre3.root'
        #'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/001E138D-DB97-DB11-91F8-003048767D6B.root'
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/009652CF-B096-DB11-88F0-001731AF66EF.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/02145E3F-DC97-DB11-9BEE-001731AF65EF.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/0237D77D-4496-DB11-9592-001731AF66BB.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/0238F0E0-D997-DB11-9FB3-001731AF66B7.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/02A5FF21-DB97-DB11-8F4D-001731230C61.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/04594B47-DC97-DB11-8629-0030487286B3.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/04FB227A-9596-DB11-972D-00304870D47D.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/06942E36-6A96-DB11-8E44-001731AF6993.root',
	#'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/06A4323F-D897-DB11-9F68-00304875AADD.root'

  	'/store/RelVal/2006/12/16/RelVal120BJets50-120/0000/00D1599A-578D-DB11-8741-001731AF68C7.root'
    }
    #untracked int32 maxEvents = 100
  }
  untracked PSet maxEvents = {untracked int32 input = -1}

  include "Validation/RecoB/test/the_data.cfg"

  #include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"
  #include "RecoBTag/TrackProbability/data/trackProbability.cff"

########################################################
  
  module TrackCountingValidator = BTagValidator { 

    include "Validation/RecoB/data/trackCountingAnalysis.cff"

    # histograms selected for validation
    vstring histogramList = { 
      "/JetTag_trackCountingHighPurJetTags_GLOBAL/discr_trackCountingHighPurJetTags_GLOBALALL",
      "/JetTag_trackCountingHighPurJetTags_GLOBAL/discrFC_trackCountingHighPurJetTags_GLOBALALL",
      #"/JetTag_trackCountingHighPurJetTags_GLOBAL/ips_3D__GLOBALALL",
      "/JetTag_trackCountingHighPurJetTags_GLOBAL/FlavEffVsBEff_C_discrFC_trackCountingHighPurJetTags_GLOBAL",
      "/JetTag_trackCountingHighPurJetTags_GLOBAL/FlavEffVsBEff_G_discrFC_trackCountingHighPurJetTags_GLOBAL",
      "/JetTag_trackCountingHighPurJetTags_GLOBAL/FlavEffVsBEff_DUS_discrFC_trackCountingHighPurJetTags_GLOBAL" 
    }

    // flag for analysis
    bool doAnalysis = true

    // The name of the output root file
    string rootfile = "trackCountingPlots.root"

    # name of the current reference file
    string DQMFile = "validation.root"

    string referenceFilename = "testReference.root"
    bool compareHistograms = false
  }

  replace TrackCountingValidator.producePs = false
  
########################################################

  module TrackProbabilityValidator = BTagValidator { 

    include "Validation/RecoB/data/trackProbabilityAnalysis.cff"

    # histograms selected for validation
    vstring histogramList = { 
      "/TrackProbability__GLOBAL/ips2_3D__GLOBALALL",
      "/TrackProbability__GLOBAL/ips3_3D__GLOBALALL",
      "/TrackProbability__GLOBAL/ips_3D__GLOBALALL",
      "/TrackProbability__GLOBAL/FlavEffVsBEff_C_ips2_3D__GLOBAL",
      "/TrackProbability__GLOBAL/FlavEffVsBEff_G_ips2_3D__GLOBAL",
      "/TrackProbability__GLOBAL/FlavEffVsBEff_DUS_ips2_3D__GLOBAL" 
    }

    // flag for analysis
    bool doAnalysis = true

    // The name of the output root file
    string rootfile = "trackProbabilityPlots.root"

    # name of the current reference file
    string DQMFile = "currentReference.root"

    string referenceFilename = "testReference.root"
    bool compareHistograms = false
  }
  
  replace TrackProbabilityValidator.producePs = false

########################################################

  module SoftLeptonValidator = BTagValidator { 

    include "Validation/RecoB/data/softLeptonAnalysis.cff"

    # histograms selected for validation
    vstring histogramList = { 
      "/JetTag__GLOBAL/FlavEffVsBEff_B_discrFC__GLOBAL",
      "/JetTag__GLOBAL/FlavEffVsBEff_C_discrFC__GLOBAL",
      "/JetTag__GLOBAL/FlavEffVsBEff_DUSG_discrFC__GLOBAL" 
    }

    // flag for analysis
    bool doAnalysis = true

    // The name of the output root file
    string rootfile = "softLeptonPlots.root"

    # name of the current reference file
    string DQMFile = "validation.root"

    string referenceFilename = "testReference.root"
    bool compareHistograms = false
  }
  
  replace SoftLeptonValidator.producePs = false
  
########################################################

  service = DaqMonitorROOTBackEnd{}

  path p = { TrackCountingValidator, TrackProbabilityValidator }

}
