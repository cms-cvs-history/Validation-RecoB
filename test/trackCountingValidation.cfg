process trackCountingValidator =  {

  # keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = EmptySource {
     untracked int32 maxEvents = 0
  }

  source = PoolSource {
    untracked vstring fileNames = {
        'castor:/castor/cern.ch/user/f/fwyzard/dataset/1.3.0-pre3/FEVT/mc-physval-120-BBbar50to80-LowLumiPU/001E138D-DB97-DB11-91F8-003048767D6B.root'
  	#'/store/RelVal/2006/12/16/RelVal120BJets50-120/0000/00D1599A-578D-DB11-8741-001731AF68C7.root'
    }
    untracked int32 maxEvents = 100
  }

########################################################
  
  module TrackCountingValidator = BTagValidator { 

    include "Validation/RecoB/data/trackCountingAnalysis.cff"

    # histograms selected for validation
    vstring histogramList = { 
      "/TrackCounting__GLOBAL/ips2_3D__GLOBALALL",
      "/TrackCounting__GLOBAL/ips3_3D__GLOBALALL",
      "/TrackCounting__GLOBAL/ips_3D__GLOBALALL",
      "/TrackCounting__GLOBAL/FlavEffVsBEff_B_ips2_3D__GLOBAL",
      "/TrackCounting__GLOBAL/FlavEffVsBEff_C_ips2_3D__GLOBAL",
      "/TrackCounting__GLOBAL/FlavEffVsBEff_DUSG_ips2_3D__GLOBAL" 
    }

    // flag for analysis
    bool doAnalysis = true

    // The name of the output root file
    string rootfile = "trackCountingPlots.root"

    # name of the current reference file
    string DQMFile = "currentReference.root"

    string ReferenceFilename = "testReference.root"
    bool CompareHistograms = false
  }

  replace TrackCountingValidator.producePs = false
  
########################################################

  module TrackProbabilityValidator = BTagValidator { 

    include "Validation/RecoB/data/trackProbabilityAnalysis.cff"

    # histograms selected for validation
    vstring histogramList = { 
      "/TrackProbability__GLOBAL/ips2_3D__GLOBALALL",
      "/TrackProbability__GLOBAL/ips3_3D__GLOBALALL",
      "/TrackProbability__GLOBAL/ips_3D__GLOBALALL",
      "/TrackProbability__GLOBAL/FlavEffVsBEff_B_ips2_3D__GLOBAL",
      "/TrackProbability__GLOBAL/FlavEffVsBEff_C_ips2_3D__GLOBAL",
      "/TrackProbability__GLOBAL/FlavEffVsBEff_DUSG_ips2_3D__GLOBAL" 
    }

    // flag for analysis
    bool doAnalysis = true

    // The name of the output root file
    string rootfile = "trackProbabilityPlots.root"

    # name of the current reference file
    string DQMFile = "currentReference.root"

    string ReferenceFilename = "testReference.root"
    bool CompareHistograms = false
  }
  
  replace TrackProbabilityValidator.producePs = false

########################################################

  module SoftLeptonValidator = BTagValidator { 

    include "Validation/RecoB/data/softLeptonAnalysis.cff"

    # histograms selected for validation
    vstring histogramList = { 
      "/JetTag__GLOBAL/FlavEffVsBEff_B_discrFC__GLOBAL",
      "/JetTag__GLOBAL/FlavEffVsBEff_C_discrFC__GLOBAL",
      "/JetTag__GLOBAL/FlavEffVsBEff_DUSG_discrFC__GLOBAL" 
    }

    // flag for analysis
    bool doAnalysis = true

    // The name of the output root file
    string rootfile = "softLeptonPlots.root"

    # name of the current reference file
    string DQMFile = "currentReference.root"

    string ReferenceFilename = "testReference.root"
    bool CompareHistograms = false
  }
  
  replace SoftLeptonValidator.producePs = false
  
########################################################

  service = DaqMonitorROOTBackEnd{}

  path p = { TrackCountingValidator, SoftLeptonValidator }

}
